<!--
  Inicio: 19/02/2024
  Inclusão da tela: 21/02/2024
  PROJETO MEGEZORD -> Kanban de tasks
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Megazord - home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/css/style_home.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="/Assets/scripts/app.js"></script>
</head>
<body>
    <div class="header">
        <div class="logo">
            <img src="/Assets/img/logo.png" alt="Logotipo">
        </div>
        <div id="searchContainer">
            <input type="text" id="searchInput" placeholder="Pesquisar tarefas..." oninput="searchTasks()">
        </div>

        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" id="menu_drop"  type="button" data-bs-toggle="dropdown" aria-expanded="false">
              Menu
            </button>
            <ul class="dropdown-menu">
              <li><p class="dropdown-item" id="welcomeMessage"></p></li>
              <li><a class="dropdown-item" href="/stale.html">Monitores Stale</a></li>
              <li><a class="dropdown-item" href="/contador.html">Contador de vagas</a></li>
              <li><a class="dropdown-item" href="index.html">Logout</a></li>
            </ul>
          </div>
    </div>

    <div class="welcome-container">
        <p id="welcomeMessage2"></p>
    </div>



    <body>
      <div class="board">
          <div class="column" id="todo" ondrop="drop(event)" ondragover="allowDrop(event)">
              <h2>A Fazer</h2>
          </div>
          <div class="column" id="doing" ondrop="drop(event)" ondragover="allowDrop(event)">
              <h2>Fazendo</h2>
          </div>
          <div class="column" id="done" ondrop="drop(event)" ondragover="allowDrop(event)">
              <h2>Concluído</h2>
          </div>
      </div>
  
      <div class="task-details" id="taskDetails">
          <!-- Detalhes da tarefa serão exibidos aqui -->
      </div>
  
      <button class="add-task-btn" onclick="openForm()">+</button>
  
      <div class="add-task-form" id="addTaskForm">
          <form onsubmit="addTask(); return false;">
              <label for="taskName">Nome da Tarefa:</label>
              <input type="text" id="taskName" required>
              <label for="taskDescription">Descrição:</label>
              <textarea id="taskDescription" required></textarea>
              <button type="submit">Adicionar Tarefa</button>
              <button type="button" onclick="closeForm()">Cancelar</button>
          </form>
      </div>
  
      <script>
          const firebaseConfig = {
              apiKey: "AIzaSyANWCZQldOh3nUNDoQVvDW2j8qYvxXZM0I",
              authDomain: "teste-kamban.firebaseapp.com",
              projectId: "teste-kamban",
              storageBucket: "teste-kamban.appspot.com",
              messagingSenderId: "164191697844",
              appId: "1:164191697844:web:7ae9db7827aa1f3d64d0e1"
          };
  
          firebase.initializeApp(firebaseConfig);
          const db = firebase.firestore();
  
      </script>

    <script src="/Assets/scripts/script.js"></script>  
    <!--INCLUDE POPPER + JS BOOTSTRAP-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>

    <script>
        let dataAtual = new Date();
        // Extração de username + texto de olá no menu
        var username = localStorage.getItem('username');
        document.getElementById('welcomeMessage').innerText = 'Olá, ' + username ;
        // texto de boas vindas
        document.getElementById('welcomeMessage2').innerText = 'Bem vindo ' + username + '! Hoje é ' + dataAtual.toLocaleDateString() + ' e essa é sua lista de tarefas.' ;

    </script>

    <!-- Componente que gera opacidade na página quando o modal de tarefas é aberto -->

    <div id="overlay" class="overlay"></div>

      
</body>
</html>
